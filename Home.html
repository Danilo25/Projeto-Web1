<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="HomeStyle.css">
</head>
<body>
    <div id="corpo">
        <div id="loginL">
            <form id="login">
                <label for="user"></label>
                <input type="text" id="user" name="user" placeholder="Usuário"/>
                <label for="senha"></label>
                <input type="password" id="senha" name="senha" placeholder="senha"/>
                <label id="botoes">
                    <button id="confirmar">confirmar</button>
                    <button id="cadastro" onclick="fazerCadastro()">cadastro</button>
                </label>
            </form>
        </div>
        <div id="cadastroL">
            <form id="cadastroForm">
                <label for="new-user"></label>
                <input type="text" id="new-user" name="new-user" placeholder="Usuário"/>
                <label for="new-userSenha"></label>
                <input type="password" id="new-userSenha" name="new-userSenha" placeholder="senha"/>
                <label for="new-userEmail"></label>
                <input type="email" id="new-userEmail" name="new-userEmail" placeholder="Email"/>
                <label for="ocupacao"></label>
                <select name="ocupacao" id="ocupacao">
                    <option value="Artista">Artista</option>
                    <option value="Fotografo">Fotografo</option>
                    <option value="Museu">Museu</option>
                </select>
                <label for="Cadastrar"></label>
                <button id="Cadastrar">Cadastrar</button>
            </form>
        </div>
    </div>
    <script>
        function fazerCadastro() {
            event.preventDefault();
            document.getElementById("cadastroL").style.display = "block";
            document.getElementById("loginL").style.display = "none";
            
        }
        //function ocultarCadastro() {
        //    event.preventDefault();
        //    document.getElementById("loginL").style.display = "block";
        //    document.getElementById("cadastroL").style.display = "none";
        //    
        //}

        document.getElementById("cadastroForm").addEventListener("submit", function(event) {
        event.preventDefault();

            // cria um objeto JSON
            const objetoJson = {};
            
            // adiciona as informações do formulário ao objeto JSON
            objetoJson.nome = document.getElementById("new-user").value;
            objetoJson.email = document.getElementById("new-userEmail").value;
            objetoJson.ocupacao = document.getElementById("ocupacao").value;
            
            // converte o objeto JSON em uma string JSON
            const jsonString = JSON.stringify(objetoJson);
            console.log(jsonString);

            const newUsername = document.getElementById("new-user").value;
            
            // Carregar o conteúdo HTML da página de usuário existente
            fetch("User.html")
              .then(response => response.text())
              .then(data => {
                // Substituir o nome de usuário no conteúdo HTML
                const userPageContent = data.replaceAll("{username}", newUsername);

                // Armazenar o conteúdo HTML no armazenamento local do navegador
                localStorage.setItem(newUsername, userPageContent);

                // Exibir a página de usuário
                //document.getElementById("login-form").style.display = "none";
                //document.getElementById("user-page").style.display = "block";
        });
      });

    </script>
</body>
</html>